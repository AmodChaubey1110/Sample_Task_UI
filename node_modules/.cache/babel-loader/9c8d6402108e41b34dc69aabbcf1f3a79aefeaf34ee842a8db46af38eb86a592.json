{"ast":null,"code":"import axios from 'axios';\nimport { BASEURL } from '../constants';\nimport Cookies from 'universal-cookie';\n\n/**\n * Common API method\n * @param {string} method GET | POST | DELETE | PATCH\n * @param {string} baseURL http://api.example.com\n * @param {string} url /user/id\n * @param {object} params Query parameters\n * @param {object} headers API headers are appended to common headers\n * @param {object} body API body / Empty by default\n */\n\nconst AXIOSCALL = async function (method, url) {\n  let params = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  let headers = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  let body = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n  try {\n    var _response$data;\n    const cookies = new Cookies();\n    const loginData = cookies.get('loginData');\n    let token = loginData === null || loginData === void 0 ? void 0 : loginData.token;\n    console.log('token', token);\n    const commonHeaders = {\n      'Access-Control-Allow-Origin': '*',\n      'Access-Control-Allow-Methods': 'GET,PUT,POST,DELETE,PATCH,OPTIONS'\n    };\n    if (token) {\n      commonHeaders.Authorization = `Bearer ${token}`;\n    }\n    console.log('commonHeaders------------->>', commonHeaders);\n    const response = await axios({\n      method,\n      url,\n      params: {\n        ...params\n      },\n      headers: {\n        ...commonHeaders,\n        ...headers\n      },\n      data: body\n    });\n    console.log('Response', response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.data);\n    return {\n      status: response.status,\n      message: response.data.message,\n      data: response.data\n    };\n  } catch (error) {\n    return {\n      data: error,\n      err: error.response,\n      message: error.response !== undefined ? error.response.statusText : '',\n      status: error.response !== undefined ? error.response.status : 'failed'\n    };\n  }\n};\n_c = AXIOSCALL;\nexport default AXIOSCALL;\nvar _c;\n$RefreshReg$(_c, \"AXIOSCALL\");","map":{"version":3,"names":["axios","BASEURL","Cookies","AXIOSCALL","method","url","params","arguments","length","undefined","headers","body","_response$data","cookies","loginData","get","token","console","log","commonHeaders","Authorization","response","data","status","message","error","err","statusText","_c","$RefreshReg$"],"sources":["/home/acc/Desktop/Task/task/src/config/api.js"],"sourcesContent":["import axios from 'axios';\nimport { BASEURL } from '../constants';\nimport Cookies from 'universal-cookie';\n\n/**\n * Common API method\n * @param {string} method GET | POST | DELETE | PATCH\n * @param {string} baseURL http://api.example.com\n * @param {string} url /user/id\n * @param {object} params Query parameters\n * @param {object} headers API headers are appended to common headers\n * @param {object} body API body / Empty by default\n */\n\nconst AXIOSCALL = async (\n\tmethod,\n\turl,\n\tparams = {},\n\theaders = {},\n\tbody = {}\n\t// baseURL = BASEURL.\n) => {\n\ttry {\n\t\tconst cookies = new Cookies();\n\n\t\tconst loginData = cookies.get('loginData');\n\t\tlet token = loginData?.token;\n\t\tconsole.log('token', token);\n\n\t\tconst commonHeaders = {\n\t\t\t'Access-Control-Allow-Origin': '*',\n\t\t\t'Access-Control-Allow-Methods': 'GET,PUT,POST,DELETE,PATCH,OPTIONS',\n\t\t};\n\t\tif (token) {\n\t\t\tcommonHeaders.Authorization = `Bearer ${token}`;\n\t\t}\n\t\tconsole.log('commonHeaders------------->>', commonHeaders);\n\n\t\tconst response = await axios({\n\t\t\tmethod,\n\t\t\turl,\n\t\t\tparams: { ...params },\n\t\t\theaders: { ...commonHeaders, ...headers },\n\t\t\tdata: body,\n\t\t});\n\t\tconsole.log('Response', response?.data?.data);\n\n\t\treturn {\n\t\t\tstatus: response.status,\n\t\t\tmessage: response.data.message,\n\t\t\tdata: response.data,\n\t\t};\n\t} catch (error) {\n\t\treturn {\n\t\t\tdata: error,\n\t\t\terr: error.response,\n\t\t\tmessage: error.response !== undefined ? error.response.statusText : '',\n\t\t\tstatus: error.response !== undefined ? error.response.status : 'failed',\n\t\t};\n\t}\n};\n\nexport default AXIOSCALL;\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,QAAQ,cAAc;AACtC,OAAOC,OAAO,MAAM,kBAAkB;;AAEtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMC,SAAS,GAAG,eAAAA,CACjBC,MAAM,EACNC,GAAG,EAKC;EAAA,IAJJC,MAAM,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EAAA,IACXG,OAAO,GAAAH,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EAAA,IACZI,IAAI,GAAAJ,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EAGT,IAAI;IAAA,IAAAK,cAAA;IACH,MAAMC,OAAO,GAAG,IAAIX,OAAO,CAAC,CAAC;IAE7B,MAAMY,SAAS,GAAGD,OAAO,CAACE,GAAG,CAAC,WAAW,CAAC;IAC1C,IAAIC,KAAK,GAAGF,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEE,KAAK;IAC5BC,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEF,KAAK,CAAC;IAE3B,MAAMG,aAAa,GAAG;MACrB,6BAA6B,EAAE,GAAG;MAClC,8BAA8B,EAAE;IACjC,CAAC;IACD,IAAIH,KAAK,EAAE;MACVG,aAAa,CAACC,aAAa,GAAI,UAASJ,KAAM,EAAC;IAChD;IACAC,OAAO,CAACC,GAAG,CAAC,8BAA8B,EAAEC,aAAa,CAAC;IAE1D,MAAME,QAAQ,GAAG,MAAMrB,KAAK,CAAC;MAC5BI,MAAM;MACNC,GAAG;MACHC,MAAM,EAAE;QAAE,GAAGA;MAAO,CAAC;MACrBI,OAAO,EAAE;QAAE,GAAGS,aAAa;QAAE,GAAGT;MAAQ,CAAC;MACzCY,IAAI,EAAEX;IACP,CAAC,CAAC;IACFM,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEG,QAAQ,aAARA,QAAQ,wBAAAT,cAAA,GAARS,QAAQ,CAAEC,IAAI,cAAAV,cAAA,uBAAdA,cAAA,CAAgBU,IAAI,CAAC;IAE7C,OAAO;MACNC,MAAM,EAAEF,QAAQ,CAACE,MAAM;MACvBC,OAAO,EAAEH,QAAQ,CAACC,IAAI,CAACE,OAAO;MAC9BF,IAAI,EAAED,QAAQ,CAACC;IAChB,CAAC;EACF,CAAC,CAAC,OAAOG,KAAK,EAAE;IACf,OAAO;MACNH,IAAI,EAAEG,KAAK;MACXC,GAAG,EAAED,KAAK,CAACJ,QAAQ;MACnBG,OAAO,EAAEC,KAAK,CAACJ,QAAQ,KAAKZ,SAAS,GAAGgB,KAAK,CAACJ,QAAQ,CAACM,UAAU,GAAG,EAAE;MACtEJ,MAAM,EAAEE,KAAK,CAACJ,QAAQ,KAAKZ,SAAS,GAAGgB,KAAK,CAACJ,QAAQ,CAACE,MAAM,GAAG;IAChE,CAAC;EACF;AACD,CAAC;AAACK,EAAA,GA9CIzB,SAAS;AAgDf,eAAeA,SAAS;AAAC,IAAAyB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}